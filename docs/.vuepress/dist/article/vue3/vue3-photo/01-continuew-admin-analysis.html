<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.22" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/favicon.ico"><title>Vue3 Admin 前端项目分析 | X.D’Blog</title><meta name="description" content="使用 VuePress 2.x 搭建的个人博客">
    <link rel="preload" href="/assets/style-Ch0iOYMA.css" as="style"><link rel="stylesheet" href="/assets/style-Ch0iOYMA.css">
    <link rel="modulepreload" href="/assets/app-BiPimmho.js"><link rel="modulepreload" href="/assets/01-continuew-admin-analysis.html-DRo-cXAg.js">
    <link rel="prefetch" href="/assets/index.html-D-ZZZ-Qk.js" as="script"><link rel="prefetch" href="/assets/index.html-D7cPLhMn.js" as="script"><link rel="prefetch" href="/assets/01.encrypt.html-Df_j7O28.js" as="script"><link rel="prefetch" href="/assets/01.use-dict.html-D9PvzdYi.js" as="script"><link rel="prefetch" href="/assets/02.use-outside-element.html-DZdSploj.js" as="script"><link rel="prefetch" href="/assets/03.use-request.html-DnSpklDc.js" as="script"><link rel="prefetch" href="/assets/04.use-window-size.html-D6aDnjJX.js" as="script"><link rel="prefetch" href="/assets/05.use-zindex.html-ChEG_nKQ.js" as="script"><link rel="prefetch" href="/assets/01-nestjs-photo-service-init.html-DaNdoZcL.js" as="script"><link rel="prefetch" href="/assets/02-nestjs-photo-service-auth.html-Co2cZII0.js" as="script"><link rel="prefetch" href="/assets/03-nestjs-photo-service-upload.html-BZA-jNeX.js" as="script"><link rel="prefetch" href="/assets/04-nestjs-photo-service-websocket.html-8zJvIwcw.js" as="script"><link rel="prefetch" href="/assets/05-nestjs-photo-service-swagger.html-DQXN3b51.js" as="script"><link rel="prefetch" href="/assets/06-nestjs-photo-service-email.html-ClWDTmDf.js" as="script"><link rel="prefetch" href="/assets/07-nestjs-photo-service-test.html-CYSaDN98.js" as="script"><link rel="prefetch" href="/assets/08-nestjs-photo-service-summary.html-CniMCHZe.js" as="script"><link rel="prefetch" href="/assets/404.html-eSPz8Fac.js" as="script"><link rel="prefetch" href="/assets/index-B-M8YVCw.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name" aria-hidden="true">X.D’Blog</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="首页"><!--[--><!--[--><!--]--><!--]-->首页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/article/nestjs/nestjs-photo/01-nestjs-photo-service-init.html" aria-label="NestJS"><!--[--><!--[--><!--]--><!--]-->NestJS<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/article/vue3/vue3-photo/01-continuew-admin-analysis.html" aria-label="Vue3"><!--[--><!--[--><!--]--><!--]-->Vue3<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/about/" aria-label="关于"><!--[--><!--[--><!--]--><!--]-->关于<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="首页"><!--[--><!--[--><!--]--><!--]-->首页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/article/nestjs/nestjs-photo/01-nestjs-photo-service-init.html" aria-label="NestJS"><!--[--><!--[--><!--]--><!--]-->NestJS<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/article/vue3/vue3-photo/01-continuew-admin-analysis.html" aria-label="Vue3"><!--[--><!--[--><!--]--><!--]-->Vue3<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/about/" aria-label="关于"><!--[--><!--[--><!--]--><!--]-->关于<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">Vue3-photo <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/article/vue3/vue3-photo/01-continuew-admin-analysis.html" aria-label="Vue3 Admin 前端项目分析"><!--[--><!--[--><!--]--><!--]-->Vue3 Admin 前端项目分析<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Hooks <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/article/vue3/hooks/01.use-dict.html" aria-label="use-dict 介绍"><!--[--><!--[--><!--]--><!--]-->use-dict 介绍<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/article/vue3/hooks/02.use-outside-element.html" aria-label="use-outside-element 介绍"><!--[--><!--[--><!--]--><!--]-->use-outside-element 介绍<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/article/vue3/hooks/03.use-request.html" aria-label="use-request 介绍"><!--[--><!--[--><!--]--><!--]-->use-request 介绍<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/article/vue3/hooks/04.use-window-size.html" aria-label="use-window-size 介绍"><!--[--><!--[--><!--]--><!--]-->use-window-size 介绍<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/article/vue3/hooks/05.use-zindex.html" aria-label="use-zindex 介绍"><!--[--><!--[--><!--]--><!--]-->use-zindex 介绍<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Utils <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/article/vue3/utils/01.encrypt.html" aria-label="crypto 介绍"><!--[--><!--[--><!--]--><!--]-->crypto 介绍<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="vue3-admin-前端项目分析" tabindex="-1"><a class="header-anchor" href="#vue3-admin-前端项目分析"><span>Vue3 Admin 前端项目分析</span></a></h1><h2 id="项目概述" tabindex="-1"><a class="header-anchor" href="#项目概述"><span>项目概述</span></a></h2><p>Vue3 Admin 是一个基于 Vue 3 和 TypeScript 的现代化图片服务管理后台，提供了完整的图片管理、用户管理和系统配置功能。项目采用最新的前端技术栈，注重代码质量和开发体验。</p><h2 id="技术栈" tabindex="-1"><a class="header-anchor" href="#技术栈"><span>技术栈</span></a></h2><h3 id="_1-核心框架" tabindex="-1"><a class="header-anchor" href="#_1-核心框架"><span>1. 核心框架</span></a></h3><ul><li><strong>Vue 3</strong>：使用 Composition API 和 <code>&lt;script setup&gt;</code> 语法</li><li><strong>TypeScript</strong>：提供类型安全和开发体验</li><li><strong>Vite</strong>：快速的开发服务器和构建工具</li><li><strong>Pinia</strong>：状态管理解决方案</li><li><strong>Vue Router</strong>：路由管理</li></ul><h3 id="_2-ui-框架" tabindex="-1"><a class="header-anchor" href="#_2-ui-框架"><span>2. UI 框架</span></a></h3><ul><li><strong>Element Plus</strong>：基于 Vue 3 的组件库</li><li><strong>TailwindCSS</strong>：原子化 CSS 框架</li><li><strong>SCSS</strong>：CSS 预处理器</li></ul><h3 id="_3-工具库" tabindex="-1"><a class="header-anchor" href="#_3-工具库"><span>3. 工具库</span></a></h3><ul><li><strong>Axios</strong>：HTTP 客户端</li><li><strong>dayjs</strong>：日期处理</li><li><strong>lodash</strong>：工具函数库</li><li><strong>vue-i18n</strong>：国际化</li><li><strong>echarts</strong>：图表库</li></ul><h2 id="项目结构" tabindex="-1"><a class="header-anchor" href="#项目结构"><span>项目结构</span></a></h2><div class="language-text line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff;"><code><span class="line"><span class="line"><span>continuew-admin/</span></span></span>
<span class="line"><span class="line"><span>├── public/                 # 静态资源</span></span></span>
<span class="line"><span class="line"><span>├── src/</span></span></span>
<span class="line"><span class="line"><span>│   ├── api/               # API 接口</span></span></span>
<span class="line"><span class="line"><span>│   ├── assets/            # 资源文件</span></span></span>
<span class="line"><span class="line"><span>│   ├── components/        # 公共组件</span></span></span>
<span class="line"><span class="line"><span>│   ├── composables/       # 组合式函数</span></span></span>
<span class="line"><span class="line"><span>│   ├── config/            # 配置文件</span></span></span>
<span class="line"><span class="line"><span>│   ├── layouts/           # 布局组件</span></span></span>
<span class="line"><span class="line"><span>│   ├── locales/           # 国际化文件</span></span></span>
<span class="line"><span class="line"><span>│   ├── router/            # 路由配置</span></span></span>
<span class="line"><span class="line"><span>│   ├── stores/            # 状态管理</span></span></span>
<span class="line"><span class="line"><span>│   ├── styles/            # 样式文件</span></span></span>
<span class="line"><span class="line"><span>│   ├── types/             # 类型定义</span></span></span>
<span class="line"><span class="line"><span>│   ├── utils/             # 工具函数</span></span></span>
<span class="line"><span class="line"><span>│   └── views/             # 页面组件</span></span></span>
<span class="line"><span class="line"><span>├── .env                   # 环境变量</span></span></span>
<span class="line"><span class="line"><span>├── .eslintrc.js          # ESLint 配置</span></span></span>
<span class="line"><span class="line"><span>├── .prettierrc           # Prettier 配置</span></span></span>
<span class="line"><span class="line"><span>├── package.json          # 项目依赖</span></span></span>
<span class="line"><span class="line"><span>├── tsconfig.json         # TypeScript 配置</span></span></span>
<span class="line"><span class="line"><span>└── vite.config.ts        # Vite 配置</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="核心功能实现" tabindex="-1"><a class="header-anchor" href="#核心功能实现"><span>核心功能实现</span></a></h2><h3 id="_1-用户认证" tabindex="-1"><a class="header-anchor" href="#_1-用户认证"><span>1. 用户认证</span></a></h3><div class="language-typescript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff;"><code><span class="line"><span class="line"><span style="color:#616E88;">// src/stores/auth.ts</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> defineStore</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">pinia</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> ref</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">vue</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#81A1C1;"> type</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> User</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">@/types</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> login</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9;"> logout</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9;"> getUserInfo</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">@/api/auth</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">export</span><span style="color:#81A1C1;"> const</span><span style="color:#D8DEE9;"> useAuthStore</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> defineStore</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">auth</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">,</span><span style="color:#ECEFF4;"> ()</span><span style="color:#81A1C1;"> =&gt;</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  const</span><span style="color:#D8DEE9;"> user</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#ECEFF4;">&lt;</span><span style="color:#8FBCBB;">User</span><span style="color:#81A1C1;"> |</span><span style="color:#8FBCBB;"> null</span><span style="color:#ECEFF4;">&gt;</span><span style="color:#D8DEE9FF;">(</span><span style="color:#81A1C1;">null</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  const</span><span style="color:#D8DEE9;"> token</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#ECEFF4;">&lt;</span><span style="color:#8FBCBB;">string</span><span style="color:#81A1C1;"> |</span><span style="color:#8FBCBB;"> null</span><span style="color:#ECEFF4;">&gt;</span><span style="color:#D8DEE9FF;">(</span><span style="color:#81A1C1;">null</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  async</span><span style="color:#81A1C1;"> function</span><span style="color:#88C0D0;"> loginAction</span><span style="color:#ECEFF4;">(</span><span style="color:#D8DEE9;">username</span><span style="color:#81A1C1;">:</span><span style="color:#8FBCBB;"> string</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9;"> password</span><span style="color:#81A1C1;">:</span><span style="color:#8FBCBB;"> string</span><span style="color:#ECEFF4;">)</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">    const</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> data</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> =</span><span style="color:#81A1C1;"> await</span><span style="color:#88C0D0;"> login</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">{</span><span style="color:#D8DEE9;"> username</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9;"> password</span><span style="color:#ECEFF4;"> }</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    token</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">value</span><span style="color:#81A1C1;"> =</span><span style="color:#D8DEE9;"> data</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">access_token</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">    await</span><span style="color:#88C0D0;"> fetchUserInfo</span><span style="color:#D8DEE9FF;">()</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">  }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  async</span><span style="color:#81A1C1;"> function</span><span style="color:#88C0D0;"> logoutAction</span><span style="color:#ECEFF4;">()</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">    await</span><span style="color:#88C0D0;"> logout</span><span style="color:#D8DEE9FF;">()</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    user</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">value</span><span style="color:#81A1C1;"> =</span><span style="color:#81A1C1;"> null;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    token</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">value</span><span style="color:#81A1C1;"> =</span><span style="color:#81A1C1;"> null;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">  }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  async</span><span style="color:#81A1C1;"> function</span><span style="color:#88C0D0;"> fetchUserInfo</span><span style="color:#ECEFF4;">()</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">    const</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> data</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> =</span><span style="color:#81A1C1;"> await</span><span style="color:#88C0D0;"> getUserInfo</span><span style="color:#D8DEE9FF;">()</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    user</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">value</span><span style="color:#81A1C1;"> =</span><span style="color:#D8DEE9;"> data</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">  }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  return</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    user</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    token</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    loginAction</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    logoutAction</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    fetchUserInfo</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">  }</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">}</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-图片管理" tabindex="-1"><a class="header-anchor" href="#_2-图片管理"><span>2. 图片管理</span></a></h3><div class="language-vue line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="vue"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff;"><code><span class="line"><span class="line"><span style="color:#616E88;">&lt;!-- src/views/photo/index.vue --&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">&lt;template&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  &lt;div</span><span style="color:#8FBCBB;"> class</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">photo-manage</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">    &lt;el-card&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;template</span><span style="color:#ECEFF4;"> #</span><span style="color:#8FBCBB;">header</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;div</span><span style="color:#8FBCBB;"> class</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">card-header</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;el-upload</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">            :</span><span style="color:#8FBCBB;">action</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">uploadUrl</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">            :</span><span style="color:#8FBCBB;">headers</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">headers</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">            :</span><span style="color:#8FBCBB;">on-success</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">handleUploadSuccess</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">            :</span><span style="color:#8FBCBB;">before-upload</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">beforeUpload</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">            &lt;el-button</span><span style="color:#8FBCBB;"> type</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">primary</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span><span style="color:#D8DEE9FF;">上传图片</span><span style="color:#81A1C1;">&lt;/el-button&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;/el-upload&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;el-input</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB;">            v-model</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">searchQuery</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB;">            placeholder</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">搜索图片</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">            @</span><span style="color:#8FBCBB;">input</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">handleSearch</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          /&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;/div&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;/template&gt;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;el-table</span><span style="color:#ECEFF4;"> :</span><span style="color:#8FBCBB;">data</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">photoList</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> v-loading</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">loading</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-table-column</span><span style="color:#8FBCBB;"> prop</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">filename</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">文件名</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;"> /&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-table-column</span><span style="color:#8FBCBB;"> prop</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">size</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">大小</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;template</span><span style="color:#ECEFF4;"> #</span><span style="color:#8FBCBB;">default</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">{</span><span style="color:#D8DEE9;"> row</span><span style="color:#ECEFF4;"> }</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF;">            {{ formatFileSize(row.size) }}</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;/template&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;/el-table-column&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-table-column</span><span style="color:#8FBCBB;"> prop</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">createdAt</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">上传时间</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;template</span><span style="color:#ECEFF4;"> #</span><span style="color:#8FBCBB;">default</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">{</span><span style="color:#D8DEE9;"> row</span><span style="color:#ECEFF4;"> }</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF;">            {{ formatDate(row.createdAt) }}</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;/template&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;/el-table-column&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-table-column</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">操作</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;template</span><span style="color:#ECEFF4;"> #</span><span style="color:#8FBCBB;">default</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">{</span><span style="color:#D8DEE9;"> row</span><span style="color:#ECEFF4;"> }</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">            &lt;el-button-group&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">              &lt;el-button</span><span style="color:#ECEFF4;"> @</span><span style="color:#8FBCBB;">click</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#88C0D0;">handlePreview</span><span style="color:#D8DEE9FF;">(</span><span style="color:#D8DEE9;">row</span><span style="color:#D8DEE9FF;">)</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span><span style="color:#D8DEE9FF;">预览</span><span style="color:#81A1C1;">&lt;/el-button&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">              &lt;el-button</span><span style="color:#ECEFF4;"> @</span><span style="color:#8FBCBB;">click</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#88C0D0;">handleDownload</span><span style="color:#D8DEE9FF;">(</span><span style="color:#D8DEE9;">row</span><span style="color:#D8DEE9FF;">)</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span><span style="color:#D8DEE9FF;">下载</span><span style="color:#81A1C1;">&lt;/el-button&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">              &lt;el-button</span><span style="color:#ECEFF4;"> @</span><span style="color:#8FBCBB;">click</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#88C0D0;">handleDelete</span><span style="color:#D8DEE9FF;">(</span><span style="color:#D8DEE9;">row</span><span style="color:#D8DEE9FF;">)</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> type</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">danger</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">                &gt;</span><span style="color:#D8DEE9FF;">删除</span><span style="color:#81A1C1;">&lt;/el-button</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">              &gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">            &lt;/el-button-group&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;/template&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;/el-table-column&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;/el-table&gt;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;div</span><span style="color:#8FBCBB;"> class</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">pagination</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-pagination</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB;">          v-model</span><span style="color:#ECEFF4;">:</span><span style="color:#8FBCBB;">current-page</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">currentPage</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB;">          v-model</span><span style="color:#ECEFF4;">:</span><span style="color:#8FBCBB;">page-size</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">pageSize</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">          :</span><span style="color:#8FBCBB;">total</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">total</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">          @</span><span style="color:#8FBCBB;">current-change</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">handlePageChange</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        /&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;/div&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">    &lt;/el-card&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  &lt;/div&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">&lt;/template&gt;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">&lt;script</span><span style="color:#8FBCBB;"> setup</span><span style="color:#8FBCBB;"> lang</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">ts</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> ref</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9;"> onMounted</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">vue</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> usePhotoStore</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">@/stores/photo</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> formatFileSize</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9;"> formatDate</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">@/utils/format</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#81A1C1;"> type</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> Photo</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">@/types</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> photoStore</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> usePhotoStore</span><span style="color:#D8DEE9FF;">()</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> photoList</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#ECEFF4;">&lt;</span><span style="color:#8FBCBB;">Photo</span><span style="color:#D8DEE9FF;">[]</span><span style="color:#ECEFF4;">&gt;</span><span style="color:#D8DEE9FF;">([])</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> loading</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#D8DEE9FF;">(</span><span style="color:#81A1C1;">false</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> currentPage</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#D8DEE9FF;">(</span><span style="color:#B48EAD;">1</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> pageSize</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#D8DEE9FF;">(</span><span style="color:#B48EAD;">10</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> total</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#D8DEE9FF;">(</span><span style="color:#B48EAD;">0</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> searchQuery</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">&quot;&quot;</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">onMounted</span><span style="color:#D8DEE9FF;">(</span><span style="color:#81A1C1;">async</span><span style="color:#ECEFF4;"> ()</span><span style="color:#81A1C1;"> =&gt;</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  await</span><span style="color:#88C0D0;"> fetchPhotos</span><span style="color:#D8DEE9FF;">()</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">}</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">async</span><span style="color:#81A1C1;"> function</span><span style="color:#88C0D0;"> fetchPhotos</span><span style="color:#ECEFF4;">()</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">  loading</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">value</span><span style="color:#81A1C1;"> =</span><span style="color:#81A1C1;"> true;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  try</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">    const</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> data</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> =</span><span style="color:#81A1C1;"> await</span><span style="color:#D8DEE9;"> photoStore</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">getPhotos</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">{</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">      page</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9;"> currentPage</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">value</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">      pageSize</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9;"> pageSize</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">value</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">      query</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9;"> searchQuery</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">value</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">    }</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    photoList</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">value</span><span style="color:#81A1C1;"> =</span><span style="color:#D8DEE9;"> data</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">list</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    total</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">value</span><span style="color:#81A1C1;"> =</span><span style="color:#D8DEE9;"> data</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">total</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">  }</span><span style="color:#81A1C1;"> finally</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    loading</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">value</span><span style="color:#81A1C1;"> =</span><span style="color:#81A1C1;"> false;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">  }</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">}</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;">// ... 其他方法实现</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">&lt;/script&gt;</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-用户管理" tabindex="-1"><a class="header-anchor" href="#_3-用户管理"><span>3. 用户管理</span></a></h3><div class="language-vue line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="vue"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff;"><code><span class="line"><span class="line"><span style="color:#616E88;">&lt;!-- src/views/user/index.vue --&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">&lt;template&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  &lt;div</span><span style="color:#8FBCBB;"> class</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">user-manage</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">    &lt;el-card&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;template</span><span style="color:#ECEFF4;"> #</span><span style="color:#8FBCBB;">header</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;div</span><span style="color:#8FBCBB;"> class</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">card-header</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;el-button</span><span style="color:#8FBCBB;"> type</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">primary</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;"> @</span><span style="color:#8FBCBB;">click</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">handleAdd</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span><span style="color:#D8DEE9FF;">添加用户</span><span style="color:#81A1C1;">&lt;/el-button&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;el-input</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB;">            v-model</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">searchQuery</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB;">            placeholder</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">搜索用户</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">            @</span><span style="color:#8FBCBB;">input</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">handleSearch</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          /&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;/div&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;/template&gt;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;el-table</span><span style="color:#ECEFF4;"> :</span><span style="color:#8FBCBB;">data</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">userList</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> v-loading</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">loading</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-table-column</span><span style="color:#8FBCBB;"> prop</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">username</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">用户名</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;"> /&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-table-column</span><span style="color:#8FBCBB;"> prop</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">email</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">邮箱</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;"> /&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-table-column</span><span style="color:#8FBCBB;"> prop</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">role</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">角色</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;template</span><span style="color:#ECEFF4;"> #</span><span style="color:#8FBCBB;">default</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">{</span><span style="color:#D8DEE9;"> row</span><span style="color:#ECEFF4;"> }</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">            &lt;el-tag</span><span style="color:#ECEFF4;"> :</span><span style="color:#8FBCBB;">type</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">row</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">role</span><span style="color:#81A1C1;"> ===</span><span style="color:#ECEFF4;"> &#39;</span><span style="color:#A3BE8C;">admin</span><span style="color:#ECEFF4;">&#39;</span><span style="color:#81A1C1;"> ?</span><span style="color:#ECEFF4;"> &#39;</span><span style="color:#A3BE8C;">danger</span><span style="color:#ECEFF4;">&#39;</span><span style="color:#81A1C1;"> :</span><span style="color:#ECEFF4;"> &#39;</span><span style="color:#A3BE8C;">success</span><span style="color:#ECEFF4;">&#39;&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF;">              {{ row.role }}</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">            &lt;/el-tag&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;/template&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;/el-table-column&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-table-column</span><span style="color:#8FBCBB;"> prop</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">createdAt</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">创建时间</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;template</span><span style="color:#ECEFF4;"> #</span><span style="color:#8FBCBB;">default</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">{</span><span style="color:#D8DEE9;"> row</span><span style="color:#ECEFF4;"> }</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF;">            {{ formatDate(row.createdAt) }}</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;/template&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;/el-table-column&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-table-column</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">操作</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;template</span><span style="color:#ECEFF4;"> #</span><span style="color:#8FBCBB;">default</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">{</span><span style="color:#D8DEE9;"> row</span><span style="color:#ECEFF4;"> }</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">            &lt;el-button-group&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">              &lt;el-button</span><span style="color:#ECEFF4;"> @</span><span style="color:#8FBCBB;">click</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#88C0D0;">handleEdit</span><span style="color:#D8DEE9FF;">(</span><span style="color:#D8DEE9;">row</span><span style="color:#D8DEE9FF;">)</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span><span style="color:#D8DEE9FF;">编辑</span><span style="color:#81A1C1;">&lt;/el-button&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">              &lt;el-button</span><span style="color:#ECEFF4;"> @</span><span style="color:#8FBCBB;">click</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#88C0D0;">handleDelete</span><span style="color:#D8DEE9FF;">(</span><span style="color:#D8DEE9;">row</span><span style="color:#D8DEE9FF;">)</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> type</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">danger</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">                &gt;</span><span style="color:#D8DEE9FF;">删除</span><span style="color:#81A1C1;">&lt;/el-button</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">              &gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">            &lt;/el-button-group&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;/template&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;/el-table-column&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;/el-table&gt;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;div</span><span style="color:#8FBCBB;"> class</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">pagination</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-pagination</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB;">          v-model</span><span style="color:#ECEFF4;">:</span><span style="color:#8FBCBB;">current-page</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">currentPage</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB;">          v-model</span><span style="color:#ECEFF4;">:</span><span style="color:#8FBCBB;">page-size</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">pageSize</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">          :</span><span style="color:#8FBCBB;">total</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">total</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">          @</span><span style="color:#8FBCBB;">current-change</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">handlePageChange</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        /&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;/div&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">    &lt;/el-card&gt;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;">    &lt;!-- 用户表单对话框 --&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">    &lt;el-dialog</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB;">      v-model</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">dialogVisible</span><span style="color:#ECEFF4;">&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">      :</span><span style="color:#8FBCBB;">title</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">dialogType</span><span style="color:#81A1C1;"> ===</span><span style="color:#ECEFF4;"> &#39;</span><span style="color:#A3BE8C;">add</span><span style="color:#ECEFF4;">&#39;</span><span style="color:#81A1C1;"> ?</span><span style="color:#ECEFF4;"> &#39;</span><span style="color:#A3BE8C;">添加用户</span><span style="color:#ECEFF4;">&#39;</span><span style="color:#81A1C1;"> :</span><span style="color:#ECEFF4;"> &#39;</span><span style="color:#A3BE8C;">编辑用户</span><span style="color:#ECEFF4;">&#39;&quot;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">    &gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;el-form</span><span style="color:#8FBCBB;"> ref</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">formRef</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;"> :</span><span style="color:#8FBCBB;">model</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">form</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;"> :</span><span style="color:#8FBCBB;">rules</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">rules</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> label-width</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">80px</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-form-item</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">用户名</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> prop</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">username</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;el-input</span><span style="color:#8FBCBB;"> v-model</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">form</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">username</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;"> /&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;/el-form-item&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-form-item</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">邮箱</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> prop</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">email</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;el-input</span><span style="color:#8FBCBB;"> v-model</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">form</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">email</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;"> /&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;/el-form-item&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-form-item</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">密码</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> prop</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">password</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;"> v-if</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">dialogType</span><span style="color:#81A1C1;"> ===</span><span style="color:#ECEFF4;"> &#39;</span><span style="color:#A3BE8C;">add</span><span style="color:#ECEFF4;">&#39;&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;el-input</span><span style="color:#8FBCBB;"> v-model</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">form</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">password</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> type</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">password</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;"> /&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;/el-form-item&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-form-item</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">角色</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> prop</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">role</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;el-select</span><span style="color:#8FBCBB;"> v-model</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">form</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">role</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">            &lt;el-option</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">管理员</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> value</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">admin</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;"> /&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">            &lt;el-option</span><span style="color:#8FBCBB;"> label</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">普通用户</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#8FBCBB;"> value</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">user</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;"> /&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">          &lt;/el-select&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;/el-form-item&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;/el-form&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;template</span><span style="color:#ECEFF4;"> #</span><span style="color:#8FBCBB;">footer</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-button</span><span style="color:#ECEFF4;"> @</span><span style="color:#8FBCBB;">click</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">dialogVisible</span><span style="color:#81A1C1;"> =</span><span style="color:#81A1C1;"> false</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span><span style="color:#D8DEE9FF;">取消</span><span style="color:#81A1C1;">&lt;/el-button&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">        &lt;el-button</span><span style="color:#8FBCBB;"> type</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">primary</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;"> @</span><span style="color:#8FBCBB;">click</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9;">handleSubmit</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span><span style="color:#D8DEE9FF;">确定</span><span style="color:#81A1C1;">&lt;/el-button&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">      &lt;/template&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">    &lt;/el-dialog&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  &lt;/div&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">&lt;/template&gt;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">&lt;script</span><span style="color:#8FBCBB;"> setup</span><span style="color:#8FBCBB;"> lang</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">ts</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> ref</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9;"> onMounted</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">vue</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> useUserStore</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">@/stores/user</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> formatDate</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">@/utils/format</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#81A1C1;"> type</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> User</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">@/types</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> userStore</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> useUserStore</span><span style="color:#D8DEE9FF;">()</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> userList</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#ECEFF4;">&lt;</span><span style="color:#8FBCBB;">User</span><span style="color:#D8DEE9FF;">[]</span><span style="color:#ECEFF4;">&gt;</span><span style="color:#D8DEE9FF;">([])</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> loading</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#D8DEE9FF;">(</span><span style="color:#81A1C1;">false</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> currentPage</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#D8DEE9FF;">(</span><span style="color:#B48EAD;">1</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> pageSize</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#D8DEE9FF;">(</span><span style="color:#B48EAD;">10</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> total</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#D8DEE9FF;">(</span><span style="color:#B48EAD;">0</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> searchQuery</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">&quot;&quot;</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> dialogVisible</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#D8DEE9FF;">(</span><span style="color:#81A1C1;">false</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> dialogType</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#ECEFF4;">&lt;</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">add</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;"> |</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">edit</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">&gt;</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">add</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9;"> form</span><span style="color:#81A1C1;"> =</span><span style="color:#88C0D0;"> ref</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">{</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">  username</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> &quot;&quot;</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">  email</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> &quot;&quot;</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">  password</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> &quot;&quot;</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">  role</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">user</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">}</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;">// ... 其他方法实现</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">&lt;/script&gt;</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="开发规范" tabindex="-1"><a class="header-anchor" href="#开发规范"><span>开发规范</span></a></h2><h3 id="_1-代码规范" tabindex="-1"><a class="header-anchor" href="#_1-代码规范"><span>1. 代码规范</span></a></h3><ul><li>使用 ESLint 和 Prettier 进行代码格式化</li><li>遵循 Vue 3 风格指南</li><li>使用 TypeScript 类型定义</li><li>组件命名采用 PascalCase</li><li>文件命名采用 kebab-case</li></ul><h3 id="_2-git-规范" tabindex="-1"><a class="header-anchor" href="#_2-git-规范"><span>2. Git 规范</span></a></h3><ul><li>分支命名：feature/、bugfix/、hotfix/、release/</li><li>提交信息格式：type(scope): subject</li><li>类型包括：feat、fix、docs、style、refactor、test、chore</li></ul><h3 id="_3-文档规范" tabindex="-1"><a class="header-anchor" href="#_3-文档规范"><span>3. 文档规范</span></a></h3><ul><li>使用 JSDoc 注释组件</li><li>使用 Markdown 编写项目文档</li><li>保持文档的及时更新</li></ul><h2 id="部署配置" tabindex="-1"><a class="header-anchor" href="#部署配置"><span>部署配置</span></a></h2><h3 id="_1-构建配置" tabindex="-1"><a class="header-anchor" href="#_1-构建配置"><span>1. 构建配置</span></a></h3><div class="language-typescript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff;"><code><span class="line"><span class="line"><span style="color:#616E88;">// vite.config.ts</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#ECEFF4;"> {</span><span style="color:#D8DEE9;"> defineConfig</span><span style="color:#ECEFF4;"> }</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">vite</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#D8DEE9;"> vue</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">@vitejs/plugin-vue</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#D8DEE9;"> path</span><span style="color:#81A1C1;"> from</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">path</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">export</span><span style="color:#81A1C1;"> default</span><span style="color:#88C0D0;"> defineConfig</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">{</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">  plugins</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9FF;"> [</span><span style="color:#88C0D0;">vue</span><span style="color:#D8DEE9FF;">()]</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">  resolve</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    alias</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">      &quot;</span><span style="color:#A3BE8C;">@</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9;"> path</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">resolve</span><span style="color:#D8DEE9FF;">(</span><span style="color:#D8DEE9;">__dirname</span><span style="color:#ECEFF4;">,</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">src</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9FF;">)</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">    },</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">  },</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">  server</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    port</span><span style="color:#ECEFF4;">:</span><span style="color:#B48EAD;"> 3000</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    proxy</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">      &quot;</span><span style="color:#A3BE8C;">/api</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">        target</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">http://localhost:3000</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">        changeOrigin</span><span style="color:#ECEFF4;">:</span><span style="color:#81A1C1;"> true</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">      },</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">    },</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">  },</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">  build</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    outDir</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">dist</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    assetsDir</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">assets</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    sourcemap</span><span style="color:#ECEFF4;">:</span><span style="color:#81A1C1;"> false</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    minify</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> &quot;</span><span style="color:#A3BE8C;">terser</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">    terserOptions</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">      compress</span><span style="color:#ECEFF4;">:</span><span style="color:#ECEFF4;"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">        drop_console</span><span style="color:#ECEFF4;">:</span><span style="color:#81A1C1;"> true</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">        drop_debugger</span><span style="color:#ECEFF4;">:</span><span style="color:#81A1C1;"> true</span><span style="color:#ECEFF4;">,</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">      },</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">    },</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">  },</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4;">}</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-环境配置" tabindex="-1"><a class="header-anchor" href="#_2-环境配置"><span>2. 环境配置</span></a></h3><div class="language-bash line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff;"><code><span class="line"><span class="line"><span style="color:#616E88;"># .env.development</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">VITE_API_URL</span><span style="color:#81A1C1;">=</span><span style="color:#A3BE8C;">http://localhost:3000</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">VITE_APP_TITLE</span><span style="color:#81A1C1;">=</span><span style="color:#A3BE8C;">Vue3</span><span style="color:#88C0D0;"> Admin</span><span style="color:#A3BE8C;"> Dev</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># .env.production</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">VITE_API_URL</span><span style="color:#81A1C1;">=</span><span style="color:#A3BE8C;">https://api.example.com</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">VITE_APP_TITLE</span><span style="color:#81A1C1;">=</span><span style="color:#A3BE8C;">Vue3</span><span style="color:#88C0D0;"> Admin</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>Vue3 Admin 是一个功能完整、架构清晰的现代化管理后台项目，采用了最新的前端技术栈和最佳实践。项目不仅实现了基本的图片管理功能，还提供了用户管理、系统配置等高级特性。通过模块化设计和良好的代码组织，项目具有良好的可维护性和可扩展性。</p><p>在开发过程中，我们注重代码质量、性能优化和用户体验，采用了完整的测试策略和规范的开发流程。项目的部署和运维也采用了现代化的方案，确保了系统的可靠性和可维护性。</p><p>未来，我们将继续优化系统性能，扩展功能特性，提升用户体验，并加强运维支持，使项目能够更好地服务于用户需求。</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">最近更新：: </span><time class="meta-item-info" datetime="2025-05-06T07:45:06.000Z" data-allow-mismatch>2025/5/6 15:45</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: xiaodi195815052@163.com">刘晓迪</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BiPimmho.js" defer></script>
  </body>
</html>
