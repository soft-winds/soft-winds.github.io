<template><div><h1 id="vue3-admin-前端项目分析" tabindex="-1"><a class="header-anchor" href="#vue3-admin-前端项目分析"><span>Vue3 Admin 前端项目分析</span></a></h1>
<h2 id="项目概述" tabindex="-1"><a class="header-anchor" href="#项目概述"><span>项目概述</span></a></h2>
<p>Vue3 Admin 是一个基于 Vue 3 和 TypeScript 的现代化图片服务管理后台，提供了完整的图片管理、用户管理和系统配置功能。项目采用最新的前端技术栈，注重代码质量和开发体验。</p>
<h2 id="技术栈" tabindex="-1"><a class="header-anchor" href="#技术栈"><span>技术栈</span></a></h2>
<h3 id="_1-核心框架" tabindex="-1"><a class="header-anchor" href="#_1-核心框架"><span>1. 核心框架</span></a></h3>
<ul>
<li><strong>Vue 3</strong>：使用 Composition API 和 <code v-pre>&lt;script setup&gt;</code> 语法</li>
<li><strong>TypeScript</strong>：提供类型安全和开发体验</li>
<li><strong>Vite</strong>：快速的开发服务器和构建工具</li>
<li><strong>Pinia</strong>：状态管理解决方案</li>
<li><strong>Vue Router</strong>：路由管理</li>
</ul>
<h3 id="_2-ui-框架" tabindex="-1"><a class="header-anchor" href="#_2-ui-框架"><span>2. UI 框架</span></a></h3>
<ul>
<li><strong>Element Plus</strong>：基于 Vue 3 的组件库</li>
<li><strong>TailwindCSS</strong>：原子化 CSS 框架</li>
<li><strong>SCSS</strong>：CSS 预处理器</li>
</ul>
<h3 id="_3-工具库" tabindex="-1"><a class="header-anchor" href="#_3-工具库"><span>3. 工具库</span></a></h3>
<ul>
<li><strong>Axios</strong>：HTTP 客户端</li>
<li><strong>dayjs</strong>：日期处理</li>
<li><strong>lodash</strong>：工具函数库</li>
<li><strong>vue-i18n</strong>：国际化</li>
<li><strong>echarts</strong>：图表库</li>
</ul>
<h2 id="项目结构" tabindex="-1"><a class="header-anchor" href="#项目结构"><span>项目结构</span></a></h2>
<div class="language-text line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre  class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff" v-pre=" language-text"><code><span class="line"><span class="line"><span>continuew-admin/</span></span></span>
<span class="line"><span class="line"><span>├── public/                 # 静态资源</span></span></span>
<span class="line"><span class="line"><span>├── src/</span></span></span>
<span class="line"><span class="line"><span>│   ├── api/               # API 接口</span></span></span>
<span class="line"><span class="line"><span>│   ├── assets/            # 资源文件</span></span></span>
<span class="line"><span class="line"><span>│   ├── components/        # 公共组件</span></span></span>
<span class="line"><span class="line"><span>│   ├── composables/       # 组合式函数</span></span></span>
<span class="line"><span class="line"><span>│   ├── config/            # 配置文件</span></span></span>
<span class="line"><span class="line"><span>│   ├── layouts/           # 布局组件</span></span></span>
<span class="line"><span class="line"><span>│   ├── locales/           # 国际化文件</span></span></span>
<span class="line"><span class="line"><span>│   ├── router/            # 路由配置</span></span></span>
<span class="line"><span class="line"><span>│   ├── stores/            # 状态管理</span></span></span>
<span class="line"><span class="line"><span>│   ├── styles/            # 样式文件</span></span></span>
<span class="line"><span class="line"><span>│   ├── types/             # 类型定义</span></span></span>
<span class="line"><span class="line"><span>│   ├── utils/             # 工具函数</span></span></span>
<span class="line"><span class="line"><span>│   └── views/             # 页面组件</span></span></span>
<span class="line"><span class="line"><span>├── .env                   # 环境变量</span></span></span>
<span class="line"><span class="line"><span>├── .eslintrc.js          # ESLint 配置</span></span></span>
<span class="line"><span class="line"><span>├── .prettierrc           # Prettier 配置</span></span></span>
<span class="line"><span class="line"><span>├── package.json          # 项目依赖</span></span></span>
<span class="line"><span class="line"><span>├── tsconfig.json         # TypeScript 配置</span></span></span>
<span class="line"><span class="line"><span>└── vite.config.ts        # Vite 配置</span></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="核心功能实现" tabindex="-1"><a class="header-anchor" href="#核心功能实现"><span>核心功能实现</span></a></h2>
<h3 id="_1-用户认证" tabindex="-1"><a class="header-anchor" href="#_1-用户认证"><span>1. 用户认证</span></a></h3>
<div class="language-typescript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre  class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff" v-pre=" language-typescript"><code><span class="line"><span class="line"><span style="color:#616E88">// src/stores/auth.ts</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> defineStore</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">pinia</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> ref</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#81A1C1"> type</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> User</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">@/types</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> login</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9"> logout</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9"> getUserInfo</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">@/api/auth</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">export</span><span style="color:#81A1C1"> const</span><span style="color:#D8DEE9"> useAuthStore</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> defineStore</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">auth</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">,</span><span style="color:#ECEFF4"> ()</span><span style="color:#81A1C1"> =></span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">  const</span><span style="color:#D8DEE9"> user</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#ECEFF4">&#x3C;</span><span style="color:#8FBCBB">User</span><span style="color:#81A1C1"> |</span><span style="color:#8FBCBB"> null</span><span style="color:#ECEFF4">></span><span style="color:#D8DEE9FF">(</span><span style="color:#81A1C1">null</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">  const</span><span style="color:#D8DEE9"> token</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#ECEFF4">&#x3C;</span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1"> |</span><span style="color:#8FBCBB"> null</span><span style="color:#ECEFF4">></span><span style="color:#D8DEE9FF">(</span><span style="color:#81A1C1">null</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">  async</span><span style="color:#81A1C1"> function</span><span style="color:#88C0D0"> loginAction</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">username</span><span style="color:#81A1C1">:</span><span style="color:#8FBCBB"> string</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9"> password</span><span style="color:#81A1C1">:</span><span style="color:#8FBCBB"> string</span><span style="color:#ECEFF4">)</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    const</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> data</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> =</span><span style="color:#81A1C1"> await</span><span style="color:#88C0D0"> login</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9"> username</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9"> password</span><span style="color:#ECEFF4"> }</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    token</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9"> data</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">access_token</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    await</span><span style="color:#88C0D0"> fetchUserInfo</span><span style="color:#D8DEE9FF">()</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">  }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">  async</span><span style="color:#81A1C1"> function</span><span style="color:#88C0D0"> logoutAction</span><span style="color:#ECEFF4">()</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    await</span><span style="color:#88C0D0"> logout</span><span style="color:#D8DEE9FF">()</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    user</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#81A1C1"> =</span><span style="color:#81A1C1"> null;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    token</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#81A1C1"> =</span><span style="color:#81A1C1"> null;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">  }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">  async</span><span style="color:#81A1C1"> function</span><span style="color:#88C0D0"> fetchUserInfo</span><span style="color:#ECEFF4">()</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    const</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> data</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> =</span><span style="color:#81A1C1"> await</span><span style="color:#88C0D0"> getUserInfo</span><span style="color:#D8DEE9FF">()</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    user</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9"> data</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">  }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">  return</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    user</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    token</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    loginAction</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    logoutAction</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    fetchUserInfo</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">  }</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-图片管理" tabindex="-1"><a class="header-anchor" href="#_2-图片管理"><span>2. 图片管理</span></a></h3>
<div class="language-vue line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="vue"><pre  class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff" v-pre=" language-vue"><code><span class="line"><span class="line"><span style="color:#616E88">&#x3C;!-- src/views/photo/index.vue --></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">&#x3C;template></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">  &#x3C;div</span><span style="color:#8FBCBB"> class</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">photo-manage</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    &#x3C;el-card></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;template</span><span style="color:#ECEFF4"> #</span><span style="color:#8FBCBB">header</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;div</span><span style="color:#8FBCBB"> class</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">card-header</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;el-upload</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">            :</span><span style="color:#8FBCBB">action</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">uploadUrl</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">            :</span><span style="color:#8FBCBB">headers</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">headers</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">            :</span><span style="color:#8FBCBB">on-success</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">handleUploadSuccess</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">            :</span><span style="color:#8FBCBB">before-upload</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">beforeUpload</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          ></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            &#x3C;el-button</span><span style="color:#8FBCBB"> type</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">primary</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span><span style="color:#D8DEE9FF">上传图片</span><span style="color:#81A1C1">&#x3C;/el-button></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;/el-upload></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;el-input</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB">            v-model</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">searchQuery</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB">            placeholder</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">搜索图片</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">            @</span><span style="color:#8FBCBB">input</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">handleSearch</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          /></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;/div></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;/template></span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;el-table</span><span style="color:#ECEFF4"> :</span><span style="color:#8FBCBB">data</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">photoList</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> v-loading</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">loading</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-table-column</span><span style="color:#8FBCBB"> prop</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">filename</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">文件名</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1"> /></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-table-column</span><span style="color:#8FBCBB"> prop</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">size</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">大小</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;template</span><span style="color:#ECEFF4"> #</span><span style="color:#8FBCBB">default</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9"> row</span><span style="color:#ECEFF4"> }</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">            {{ formatFileSize(row.size) }}</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;/template></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;/el-table-column></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-table-column</span><span style="color:#8FBCBB"> prop</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">createdAt</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">上传时间</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;template</span><span style="color:#ECEFF4"> #</span><span style="color:#8FBCBB">default</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9"> row</span><span style="color:#ECEFF4"> }</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">            {{ formatDate(row.createdAt) }}</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;/template></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;/el-table-column></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-table-column</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">操作</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;template</span><span style="color:#ECEFF4"> #</span><span style="color:#8FBCBB">default</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9"> row</span><span style="color:#ECEFF4"> }</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            &#x3C;el-button-group></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">              &#x3C;el-button</span><span style="color:#ECEFF4"> @</span><span style="color:#8FBCBB">click</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#88C0D0">handlePreview</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">row</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span><span style="color:#D8DEE9FF">预览</span><span style="color:#81A1C1">&#x3C;/el-button></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">              &#x3C;el-button</span><span style="color:#ECEFF4"> @</span><span style="color:#8FBCBB">click</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#88C0D0">handleDownload</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">row</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span><span style="color:#D8DEE9FF">下载</span><span style="color:#81A1C1">&#x3C;/el-button></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">              &#x3C;el-button</span><span style="color:#ECEFF4"> @</span><span style="color:#8FBCBB">click</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#88C0D0">handleDelete</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">row</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> type</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">danger</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">                ></span><span style="color:#D8DEE9FF">删除</span><span style="color:#81A1C1">&#x3C;/el-button</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">              ></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            &#x3C;/el-button-group></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;/template></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;/el-table-column></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;/el-table></span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;div</span><span style="color:#8FBCBB"> class</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">pagination</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-pagination</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB">          v-model</span><span style="color:#ECEFF4">:</span><span style="color:#8FBCBB">current-page</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">currentPage</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB">          v-model</span><span style="color:#ECEFF4">:</span><span style="color:#8FBCBB">page-size</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">pageSize</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">          :</span><span style="color:#8FBCBB">total</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">total</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">          @</span><span style="color:#8FBCBB">current-change</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">handlePageChange</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        /></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;/div></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    &#x3C;/el-card></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">  &#x3C;/div></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">&#x3C;/template></span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">&#x3C;script</span><span style="color:#8FBCBB"> setup</span><span style="color:#8FBCBB"> lang</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">ts</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> ref</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9"> onMounted</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> usePhotoStore</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">@/stores/photo</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> formatFileSize</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9"> formatDate</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">@/utils/format</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#81A1C1"> type</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> Photo</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">@/types</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> photoStore</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> usePhotoStore</span><span style="color:#D8DEE9FF">()</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> photoList</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#ECEFF4">&#x3C;</span><span style="color:#8FBCBB">Photo</span><span style="color:#D8DEE9FF">[]</span><span style="color:#ECEFF4">></span><span style="color:#D8DEE9FF">([])</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> loading</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#81A1C1">false</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> currentPage</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#B48EAD">1</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> pageSize</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#B48EAD">10</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> total</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#B48EAD">0</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> searchQuery</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">""</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">onMounted</span><span style="color:#D8DEE9FF">(</span><span style="color:#81A1C1">async</span><span style="color:#ECEFF4"> ()</span><span style="color:#81A1C1"> =></span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">  await</span><span style="color:#88C0D0"> fetchPhotos</span><span style="color:#D8DEE9FF">()</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">async</span><span style="color:#81A1C1"> function</span><span style="color:#88C0D0"> fetchPhotos</span><span style="color:#ECEFF4">()</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">  loading</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#81A1C1"> =</span><span style="color:#81A1C1"> true;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">  try</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    const</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> data</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> =</span><span style="color:#81A1C1"> await</span><span style="color:#D8DEE9"> photoStore</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">getPhotos</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">      page</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9"> currentPage</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">      pageSize</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9"> pageSize</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">      query</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9"> searchQuery</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    }</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    photoList</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9"> data</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">list</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    total</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9"> data</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">total</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">  }</span><span style="color:#81A1C1"> finally</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    loading</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">value</span><span style="color:#81A1C1"> =</span><span style="color:#81A1C1"> false;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">  }</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// ... 其他方法实现</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">&#x3C;/script></span></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-用户管理" tabindex="-1"><a class="header-anchor" href="#_3-用户管理"><span>3. 用户管理</span></a></h3>
<div class="language-vue line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="vue"><pre  class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff" v-pre=" language-vue"><code><span class="line"><span class="line"><span style="color:#616E88">&#x3C;!-- src/views/user/index.vue --></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">&#x3C;template></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">  &#x3C;div</span><span style="color:#8FBCBB"> class</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">user-manage</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    &#x3C;el-card></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;template</span><span style="color:#ECEFF4"> #</span><span style="color:#8FBCBB">header</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;div</span><span style="color:#8FBCBB"> class</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">card-header</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;el-button</span><span style="color:#8FBCBB"> type</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">primary</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4"> @</span><span style="color:#8FBCBB">click</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">handleAdd</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span><span style="color:#D8DEE9FF">添加用户</span><span style="color:#81A1C1">&#x3C;/el-button></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;el-input</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB">            v-model</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">searchQuery</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB">            placeholder</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">搜索用户</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">            @</span><span style="color:#8FBCBB">input</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">handleSearch</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          /></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;/div></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;/template></span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;el-table</span><span style="color:#ECEFF4"> :</span><span style="color:#8FBCBB">data</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">userList</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> v-loading</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">loading</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-table-column</span><span style="color:#8FBCBB"> prop</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">username</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">用户名</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1"> /></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-table-column</span><span style="color:#8FBCBB"> prop</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">email</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">邮箱</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1"> /></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-table-column</span><span style="color:#8FBCBB"> prop</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">role</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">角色</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;template</span><span style="color:#ECEFF4"> #</span><span style="color:#8FBCBB">default</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9"> row</span><span style="color:#ECEFF4"> }</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            &#x3C;el-tag</span><span style="color:#ECEFF4"> :</span><span style="color:#8FBCBB">type</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">row</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">role</span><span style="color:#81A1C1"> ===</span><span style="color:#ECEFF4"> '</span><span style="color:#A3BE8C">admin</span><span style="color:#ECEFF4">'</span><span style="color:#81A1C1"> ?</span><span style="color:#ECEFF4"> '</span><span style="color:#A3BE8C">danger</span><span style="color:#ECEFF4">'</span><span style="color:#81A1C1"> :</span><span style="color:#ECEFF4"> '</span><span style="color:#A3BE8C">success</span><span style="color:#ECEFF4">'"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">              {{ row.role }}</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            &#x3C;/el-tag></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;/template></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;/el-table-column></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-table-column</span><span style="color:#8FBCBB"> prop</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">createdAt</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">创建时间</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;template</span><span style="color:#ECEFF4"> #</span><span style="color:#8FBCBB">default</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9"> row</span><span style="color:#ECEFF4"> }</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">            {{ formatDate(row.createdAt) }}</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;/template></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;/el-table-column></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-table-column</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">操作</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;template</span><span style="color:#ECEFF4"> #</span><span style="color:#8FBCBB">default</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9"> row</span><span style="color:#ECEFF4"> }</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            &#x3C;el-button-group></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">              &#x3C;el-button</span><span style="color:#ECEFF4"> @</span><span style="color:#8FBCBB">click</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#88C0D0">handleEdit</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">row</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span><span style="color:#D8DEE9FF">编辑</span><span style="color:#81A1C1">&#x3C;/el-button></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">              &#x3C;el-button</span><span style="color:#ECEFF4"> @</span><span style="color:#8FBCBB">click</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#88C0D0">handleDelete</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">row</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> type</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">danger</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">                ></span><span style="color:#D8DEE9FF">删除</span><span style="color:#81A1C1">&#x3C;/el-button</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">              ></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            &#x3C;/el-button-group></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;/template></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;/el-table-column></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;/el-table></span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;div</span><span style="color:#8FBCBB"> class</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">pagination</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-pagination</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB">          v-model</span><span style="color:#ECEFF4">:</span><span style="color:#8FBCBB">current-page</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">currentPage</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB">          v-model</span><span style="color:#ECEFF4">:</span><span style="color:#8FBCBB">page-size</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">pageSize</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">          :</span><span style="color:#8FBCBB">total</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">total</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">          @</span><span style="color:#8FBCBB">current-change</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">handlePageChange</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        /></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;/div></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    &#x3C;/el-card></span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    &#x3C;!-- 用户表单对话框 --></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    &#x3C;el-dialog</span></span></span>
<span class="line"><span class="line"><span style="color:#8FBCBB">      v-model</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">dialogVisible</span><span style="color:#ECEFF4">"</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">      :</span><span style="color:#8FBCBB">title</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">dialogType</span><span style="color:#81A1C1"> ===</span><span style="color:#ECEFF4"> '</span><span style="color:#A3BE8C">add</span><span style="color:#ECEFF4">'</span><span style="color:#81A1C1"> ?</span><span style="color:#ECEFF4"> '</span><span style="color:#A3BE8C">添加用户</span><span style="color:#ECEFF4">'</span><span style="color:#81A1C1"> :</span><span style="color:#ECEFF4"> '</span><span style="color:#A3BE8C">编辑用户</span><span style="color:#ECEFF4">'"</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    ></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;el-form</span><span style="color:#8FBCBB"> ref</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">formRef</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4"> :</span><span style="color:#8FBCBB">model</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">form</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4"> :</span><span style="color:#8FBCBB">rules</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">rules</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> label-width</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">80px</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-form-item</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">用户名</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> prop</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">username</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;el-input</span><span style="color:#8FBCBB"> v-model</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">form</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">username</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1"> /></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;/el-form-item></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-form-item</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">邮箱</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> prop</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">email</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;el-input</span><span style="color:#8FBCBB"> v-model</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">form</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">email</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1"> /></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;/el-form-item></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-form-item</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">密码</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> prop</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">password</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1"> v-if</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">dialogType</span><span style="color:#81A1C1"> ===</span><span style="color:#ECEFF4"> '</span><span style="color:#A3BE8C">add</span><span style="color:#ECEFF4">'"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;el-input</span><span style="color:#8FBCBB"> v-model</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">form</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">password</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> type</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">password</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1"> /></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;/el-form-item></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-form-item</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">角色</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> prop</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">role</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;el-select</span><span style="color:#8FBCBB"> v-model</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">form</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">role</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            &#x3C;el-option</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">管理员</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> value</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">admin</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1"> /></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            &#x3C;el-option</span><span style="color:#8FBCBB"> label</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">普通用户</span><span style="color:#ECEFF4">"</span><span style="color:#8FBCBB"> value</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">user</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1"> /></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">          &#x3C;/el-select></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;/el-form-item></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;/el-form></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;template</span><span style="color:#ECEFF4"> #</span><span style="color:#8FBCBB">footer</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-button</span><span style="color:#ECEFF4"> @</span><span style="color:#8FBCBB">click</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">dialogVisible</span><span style="color:#81A1C1"> =</span><span style="color:#81A1C1"> false</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span><span style="color:#D8DEE9FF">取消</span><span style="color:#81A1C1">&#x3C;/el-button></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        &#x3C;el-button</span><span style="color:#8FBCBB"> type</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">primary</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4"> @</span><span style="color:#8FBCBB">click</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9">handleSubmit</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span><span style="color:#D8DEE9FF">确定</span><span style="color:#81A1C1">&#x3C;/el-button></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">      &#x3C;/template></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    &#x3C;/el-dialog></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">  &#x3C;/div></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">&#x3C;/template></span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">&#x3C;script</span><span style="color:#8FBCBB"> setup</span><span style="color:#8FBCBB"> lang</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">ts</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">></span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> ref</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9"> onMounted</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">vue</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> useUserStore</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">@/stores/user</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> formatDate</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">@/utils/format</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#81A1C1"> type</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> User</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">@/types</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> userStore</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> useUserStore</span><span style="color:#D8DEE9FF">()</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> userList</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#ECEFF4">&#x3C;</span><span style="color:#8FBCBB">User</span><span style="color:#D8DEE9FF">[]</span><span style="color:#ECEFF4">></span><span style="color:#D8DEE9FF">([])</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> loading</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#81A1C1">false</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> currentPage</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#B48EAD">1</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> pageSize</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#B48EAD">10</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> total</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#B48EAD">0</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> searchQuery</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">""</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> dialogVisible</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#81A1C1">false</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> dialogType</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#ECEFF4">&#x3C;</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">add</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1"> |</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">edit</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">></span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">add</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> form</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> ref</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">  username</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> ""</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">  email</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> ""</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">  password</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> ""</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">  role</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">user</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// ... 其他方法实现</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">&#x3C;/script></span></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="开发规范" tabindex="-1"><a class="header-anchor" href="#开发规范"><span>开发规范</span></a></h2>
<h3 id="_1-代码规范" tabindex="-1"><a class="header-anchor" href="#_1-代码规范"><span>1. 代码规范</span></a></h3>
<ul>
<li>使用 ESLint 和 Prettier 进行代码格式化</li>
<li>遵循 Vue 3 风格指南</li>
<li>使用 TypeScript 类型定义</li>
<li>组件命名采用 PascalCase</li>
<li>文件命名采用 kebab-case</li>
</ul>
<h3 id="_2-git-规范" tabindex="-1"><a class="header-anchor" href="#_2-git-规范"><span>2. Git 规范</span></a></h3>
<ul>
<li>分支命名：feature/、bugfix/、hotfix/、release/</li>
<li>提交信息格式：type(scope): subject</li>
<li>类型包括：feat、fix、docs、style、refactor、test、chore</li>
</ul>
<h3 id="_3-文档规范" tabindex="-1"><a class="header-anchor" href="#_3-文档规范"><span>3. 文档规范</span></a></h3>
<ul>
<li>使用 JSDoc 注释组件</li>
<li>使用 Markdown 编写项目文档</li>
<li>保持文档的及时更新</li>
</ul>
<h2 id="部署配置" tabindex="-1"><a class="header-anchor" href="#部署配置"><span>部署配置</span></a></h2>
<h3 id="_1-构建配置" tabindex="-1"><a class="header-anchor" href="#_1-构建配置"><span>1. 构建配置</span></a></h3>
<div class="language-typescript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre  class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff" v-pre=" language-typescript"><code><span class="line"><span class="line"><span style="color:#616E88">// vite.config.ts</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#ECEFF4"> {</span><span style="color:#D8DEE9"> defineConfig</span><span style="color:#ECEFF4"> }</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">vite</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9"> vue</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">@vitejs/plugin-vue</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9"> path</span><span style="color:#81A1C1"> from</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">path</span><span style="color:#ECEFF4">"</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">export</span><span style="color:#81A1C1"> default</span><span style="color:#88C0D0"> defineConfig</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">  plugins</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#88C0D0">vue</span><span style="color:#D8DEE9FF">()]</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">  resolve</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    alias</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">      "</span><span style="color:#A3BE8C">@</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9"> path</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">resolve</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">__dirname</span><span style="color:#ECEFF4">,</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">src</span><span style="color:#ECEFF4">"</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    },</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">  },</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">  server</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    port</span><span style="color:#ECEFF4">:</span><span style="color:#B48EAD"> 3000</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    proxy</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">      "</span><span style="color:#A3BE8C">/api</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">        target</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">http://localhost:3000</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">        changeOrigin</span><span style="color:#ECEFF4">:</span><span style="color:#81A1C1"> true</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">      },</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    },</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">  },</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">  build</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    outDir</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">dist</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    assetsDir</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">assets</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    sourcemap</span><span style="color:#ECEFF4">:</span><span style="color:#81A1C1"> false</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    minify</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> "</span><span style="color:#A3BE8C">terser</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    terserOptions</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">      compress</span><span style="color:#ECEFF4">:</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">        drop_console</span><span style="color:#ECEFF4">:</span><span style="color:#81A1C1"> true</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">        drop_debugger</span><span style="color:#ECEFF4">:</span><span style="color:#81A1C1"> true</span><span style="color:#ECEFF4">,</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">      },</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    },</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">  },</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-环境配置" tabindex="-1"><a class="header-anchor" href="#_2-环境配置"><span>2. 环境配置</span></a></h3>
<div class="language-bash line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre  class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff" v-pre=" language-bash"><code><span class="line"><span class="line"><span style="color:#616E88"># .env.development</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">VITE_API_URL</span><span style="color:#81A1C1">=</span><span style="color:#A3BE8C">http://localhost:3000</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">VITE_APP_TITLE</span><span style="color:#81A1C1">=</span><span style="color:#A3BE8C">Vue3</span><span style="color:#88C0D0"> Admin</span><span style="color:#A3BE8C"> Dev</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88"># .env.production</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">VITE_API_URL</span><span style="color:#81A1C1">=</span><span style="color:#A3BE8C">https://api.example.com</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">VITE_APP_TITLE</span><span style="color:#81A1C1">=</span><span style="color:#A3BE8C">Vue3</span><span style="color:#88C0D0"> Admin</span></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2>
<p>Vue3 Admin 是一个功能完整、架构清晰的现代化管理后台项目，采用了最新的前端技术栈和最佳实践。项目不仅实现了基本的图片管理功能，还提供了用户管理、系统配置等高级特性。通过模块化设计和良好的代码组织，项目具有良好的可维护性和可扩展性。</p>
<p>在开发过程中，我们注重代码质量、性能优化和用户体验，采用了完整的测试策略和规范的开发流程。项目的部署和运维也采用了现代化的方案，确保了系统的可靠性和可维护性。</p>
<p>未来，我们将继续优化系统性能，扩展功能特性，提升用户体验，并加强运维支持，使项目能够更好地服务于用户需求。</p>
</div></template>


